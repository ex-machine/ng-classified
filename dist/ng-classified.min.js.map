{"version":3,"sources":["ng-classified.js"],"names":["__root","__factory","define","amd","exports","module","require","angular","this","__small$_mod_0","injectorInjectInvokers","injector","instantiate","Type","locals","serviceName","instance","Object","create","Array","isArray","length","prototype","returnedValue","invoke","argsLength","arguments","args","i","invokeResult","nativeClassRegex","classRegex","fn","skipClassify","isFunction","hasOwnProperty","$classify","test","toString","classifyInvokee","apply","invoke_","$$classified","e","TypeError","message","fn_","fnArgsLength","fnArgs","Function","bind","concat","annotate","$inject","self","selfless","undefined","call","ngClassified","config","$injector","has","get","run","name"],"mappings":"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","file":"ng-classified.min.js","sourcesContent":["(function(__root, __factory) { if (typeof define === \"function\" && define.amd) { define(\"ng-classified\", [\"angular\"], __factory);} else if (typeof exports === \"object\") {module.exports = __factory(require(\"angular\"));} else {__root[\"ng-classified\"] = __factory(angular);}})(this, (function(__small$_mod_0) {\nvar exports = {};\n'use strict';\r\n\r\nvar angular = __small$_mod_0;\r\nvar apply = ((function() {\nvar exports = {};\nfunction apply(self, fn, args) {\r\n\tvar selfless = (self === undefined) || (self === null);\r\n\tvar length = args ? args.length : 0;\r\n\t\r\n\tswitch (length) {\r\n\t\tcase 0:\r\n\t\t\treturn selfless ? fn() : fn.call(self);\r\n\t\tcase 1:\r\n\t\t\treturn selfless ? fn(args[0]) : fn.call(self, args[0]);\r\n\t\tcase 2:\r\n\t\t\treturn selfless ? fn(args[0], args[1]) : fn.call(self, args[0], args[1]);\r\n\t\tcase 3:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2]) : fn.call(self, args[0], args[1], args[2]);\r\n\t\tcase 4:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3]) : fn.call(self, args[0], args[1], args[2], args[3]);\r\n\t\tcase 5:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4]) : fn.call(self, args[0], args[1], args[2], args[3], args[4]);\r\n\t\tcase 6:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4], args[5]) : fn.call(self, args[0], args[1], args[2], args[3], args[4], args[5]);\r\n\t\t// the crucial point\r\n\t\tcase 7:\r\n\t\t\treturn selfless ? fn(args[0], args[1], args[2], args[3], args[4], args[5], args[6]) : fn.call(self, args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\r\n\t\tdefault:\r\n\t\t\treturn selfless ? fn.apply(null, args) : fn.apply(self, args);\r\n\t}\r\n}\r\n\r\nexports = apply;\nreturn exports;\n})());\r\n\r\nvar ngClassified = angular.module('ngClassified', [])\r\n.config(['$injector', function ($injector) {\r\n\tif ($injector.has('$classify')) {\r\n\t\t$injector.$classify = $injector.get('$classify');\r\n\t}\r\n\t$injector = injectorInjectInvokers($injector);\r\n}])\r\n.run(['$injector', function ($injector) {\r\n\tif ($injector.has('$classify')) {\r\n\t\t$injector.$classify = $injector.get('$classify');\r\n\t}\r\n\t$injector = injectorInjectInvokers($injector);\r\n}]);\r\n\r\n/**\r\n * Invoker injects invokee,\r\n * Injector invokes injectee,\r\n * Morrow instantiates.\r\n */\r\n\r\nfunction injectorInjectInvokers(injector) {\r\n\tvar invoke_ = injector.invoke;\r\n\r\n\tinjector.instantiate = instantiate;\r\n\tinjector.invoke = invoke;\r\n\r\n\treturn injector;\r\n\r\n\t// pasted method that picks up patched 'invoke'\r\n\tfunction instantiate(Type, locals, serviceName) {\r\n\t\tvar instance = Object.create((Array.isArray(Type) ? Type[Type.length - 1] : Type).prototype || null);\r\n\t\tvar returnedValue = invoke(Type, instance, locals, serviceName);\r\n\r\n\t\treturn (returnedValue !== null && typeof returnedValue === 'object') || (typeof returnedValue === 'function') ? returnedValue : instance;\r\n\t}\r\n\r\n\tfunction invoke() {\r\n\t\tvar argsLength = arguments.length;\r\n\t\tvar args = new Array(argsLength);\r\n\t\tfor (var i = 0; i < argsLength; i++) {\r\n\t\t\targs[i] = arguments[i];\r\n\t\t}\r\n\r\n\t\tvar nativeClassRegex = /^class/;\r\n\t\tvar classRegex = /class/i;\r\n\r\n\t\tvar invokeResult;\r\n\t\tvar fn = args[0];\r\n\t\tvar skipClassify = !angular.isFunction(fn) || fn.hasOwnProperty('$$classified');\r\n\r\n\t\tif (!skipClassify) {\r\n\t\t\tif (fn.$classify || nativeClassRegex.test(fn.toString())) {\r\n\t\t\t\tclassifyInvokee(args);\r\n\t\t\t} else if (this.$classify || (this.$classify !== false && classRegex.test(fn.toString()))) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tinvokeResult = apply(injector, invoke_, args);\r\n\t\t\t\t\tfn.$$classified = false;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tif (e instanceof TypeError && classRegex.test(e.message)) {\r\n\t\t\t\t\t\tclassifyInvokee(args);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\treturn invokeResult || apply(injector, invoke_, args);\r\n\t}\r\n\r\n\tfunction classifyInvokee(args) {\r\n\t\tvar fn_ = args[0]; \r\n\r\n\t\tvar fn = args[0] = function () {\r\n\t\t\tvar fnArgsLength = arguments.length;\r\n\t\t\tvar fnArgs = new Array(fnArgsLength);\r\n\t\t\tfor (var i = 0; i < fnArgsLength; i++) {\r\n\t\t\t\tfnArgs[i] = arguments[i];\r\n\t\t\t}\r\n\r\n\t\t\treturn new (Function.prototype.bind.apply(fn_, [null].concat(fnArgs)));\r\n\t\t};\r\n\r\n\t\tinjector.annotate(fn_);\r\n\t\tfn.$inject = fn_.$inject;\r\n\t\tfn.$$classified = true;\r\n\t}\r\n}\r\n\r\nexports = ngClassified.name;\nreturn exports;\n}))"],"sourceRoot":"/source/"}